<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wiki-Guardian: Funci√≥n Representativa</title>
    <style>
        :root {
            --primary: #2980b9; /* Azul enciclopedia */
            --light: #ecf0f1;
            --dark: #2c3e50;
            --success: #27ae60;
            --danger: #c0392b;
        }
        body { font-family: 'Georgia', serif; background: var(--light); color: var(--dark); display: flex; flex-direction: column; align-items: center; min-height: 100vh; margin: 0; padding: 20px; }
        
        header { text-align: center; margin-bottom: 20px; }
        h1 { font-family: 'Arial', sans-serif; color: var(--primary); margin-bottom: 5px; }
        .subtitle { font-style: italic; color: #7f8c8d; max-width: 600px; }

        /* CONTENEDOR TIPO WIKI */
        .wiki-container {
            background: white;
            width: 100%; max-width: 700px;
            border: 1px solid #ccc;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            border-radius: 5px;
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }

        .wiki-header { background: #f4f4f4; padding: 15px; border-bottom: 1px solid #ddd; display: flex; justify-content: space-between; align-items: center; }
        .wiki-logo { font-weight: bold; font-family: 'Arial', sans-serif; font-size: 1.2rem; }
        .wiki-logo span { color: var(--primary); }
        
        .wiki-content { padding: 40px; text-align: center; min-height: 200px; display: flex; flex-direction: column; justify-content: center; align-items: center; }
        
        .request-badge { background: #e67e22; color: white; padding: 5px 10px; border-radius: 3px; font-size: 0.8rem; text-transform: uppercase; margin-bottom: 20px; font-family: sans-serif; }
        .proposal-text { font-size: 1.4rem; line-height: 1.5; margin-bottom: 20px; font-weight: bold; }

        /* BOTONES DE DECISI√ìN */
        .controls { display: flex; width: 100%; border-top: 1px solid #ddd; }
        .btn { flex: 1; padding: 20px; border: none; cursor: pointer; font-size: 1.1rem; font-weight: bold; transition: 0.2s; font-family: 'Arial', sans-serif; }
        
        .btn-approve { background: white; color: var(--success); border-right: 1px solid #eee; }
        .btn-approve:hover { background: #e9f7ef; }
        
        .btn-reject { background: white; color: var(--danger); }
        .btn-reject:hover { background: #fdedec; }

        /* FEEDBACK */
        .feedback-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.85); display: none; justify-content: center; align-items: center; z-index: 100; }
        .feedback-card { background: white; padding: 30px; border-radius: 10px; max-width: 500px; text-align: center; border-top: 10px solid var(--primary); font-family: 'Arial', sans-serif; }
        .feedback-icon { font-size: 3rem; margin-bottom: 10px; display: block; }
        .citation { font-size: 0.85rem; color: #7f8c8d; margin-top: 15px; border-top: 1px solid #eee; padding-top: 10px; font-style: italic; }
        .btn-next { background: var(--primary); color: white; border: none; padding: 10px 25px; border-radius: 20px; margin-top: 20px; cursor: pointer; font-size: 1rem; }

        /* PROGRESO */
        .status-bar { display: flex; gap: 20px; margin-top: 20px; font-family: sans-serif; font-size: 0.9rem; color: #555; }
    </style>
</head>
<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-5NTJRD37');</script>
<!-- End Google Tag Manager -->
<body>
<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5NTJRD37"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->

    <header>
        <h1>Wiki-Guardian</h1>
        <p class="subtitle">Eres el Editor Jefe. Los alumnos env√≠an propuestas de actividad. <br>Aprueba SOLO las que cumplan la <strong>Funci√≥n Representativa</strong> (Informar, investigar, wikis, datos).</p>
    </header>

    <div class="wiki-container">
        <div class="wiki-header">
            <div class="wiki-logo">üåê Digital<span>Pedia</span></div>
            <div style="font-size: 0.9rem; color: #7f8c8d;">Edici√≥n en curso...</div>
        </div>

        <div class="wiki-content" id="cardArea">
            <div class="request-badge">Propuesta de Alumno</div>
            <div class="proposal-text" id="questionText">Cargando...</div>
        </div>

        <div class="controls">
            <button class="btn btn-reject" onclick="checkAnswer(false)">‚ùå RECHAZAR<br><small>(Es otra funci√≥n)</small></button>
            <button class="btn btn-approve" onclick="checkAnswer(true)">‚úÖ PUBLICAR<br><small>(Es Representativa)</small></button>
        </div>
    </div>

    <div class="status-bar">
        <span>Aciertos: <strong id="score">0</strong></span>
        <span>Art√≠culos Revisados: <strong id="progress">0</strong>/8</span>
    </div>

    <div id="feedbackModal" class="feedback-overlay">
        <div class="feedback-card" id="feedbackContent">
            </div>
    </div>

    <script>
        /* BASE DE DATOS DE PREGUNTAS
           Basado en el documento proporcionado.
           isRepresentative: true (Funci√≥n Representativa/Informativa) vs false (Otras funciones)
        */
        const scenarios = [
            {
                text: "Crear un Wiki colaborativo sobre la historia de Europa.",
                isRepresentative: true,
                explanation: "¬°Correcto! Esta es la esencia de la funci√≥n representativa: usar la tecnolog√≠a para construir colectivamente una base de conocimientos.",
                cite: "[cite: 92] Ejemplo de Wiki en el aula."
            },
            {
                text: "Escribir un blog personal expresando mis emociones del d√≠a.",
                isRepresentative: false,
                explanation: "Incorrecto. Expresar emociones e identidad pertenece a la 'Funci√≥n Personal', no a la representativa.",
                cite: "[cite: 87, 88] Funci√≥n Personal: Autoexpresi√≥n."
            },
            {
                text: "Usar motores de b√∫squeda para investigar datos clim√°ticos.",
                isRepresentative: true,
                explanation: "¬°Exacto! Usar herramientas para buscar, validar y difundir informaci√≥n factual es clave en esta funci√≥n.",
                cite: " Incluye motores de b√∫squeda y enciclopedias."
            },
            {
                text: "Programar un videojuego de dragones donde yo invento las reglas.",
                isRepresentative: false,
                explanation: "No. Crear mundos nuevos y fantas√≠a pertenece a la 'Funci√≥n Imaginativa', no estamos tratando con datos reales.",
                cite: "[cite: 100] Funci√≥n Imaginativa: Creatividad y mundos nuevos."
            },
            {
                text: "Aprender a reconocer sesgos (fake news) en un art√≠culo online.",
                isRepresentative: true,
                explanation: "¬°Muy bien! La funci√≥n representativa incluye la 'Alfabetizaci√≥n Medi√°tica' y la evaluaci√≥n cr√≠tica de la informaci√≥n.",
                cite: "[cite: 80, 139] Reconocer sesgos y evaluar informaci√≥n cr√≠ticamente."
            },
            {
                text: "Dise√±ar un avatar 3D para que se parezca a m√≠.",
                isRepresentative: false,
                explanation: "Esto es Funci√≥n Personal (Identidad). La funci√≥n representativa se centra en la informaci√≥n externa, no en la proyecci√≥n del yo.",
                cite: "[cite: 89] Portafolio digital e identidad."
            },
            {
                text: "Crear una hoja de c√°lculo para gestionar el inventario del aula.",
                isRepresentative: false,
                explanation: "Cerca, pero no. Esto es la 'Funci√≥n Instrumental' (usar tecnolog√≠a para un objetivo pr√°ctico/productividad/automatizaci√≥n).",
                cite: "[cite: 97] Funci√≥n Instrumental: Objetivos pr√°cticos y organizaci√≥n."
            },
            {
                text: "Analizar dos noticias contradictorias para buscar la verdad.",
                isRepresentative: true,
                explanation: "¬°Correcto! Evaluar cr√≠ticamente la informaci√≥n en Internet es el coraz√≥n de esta competencia.",
                cite: " Evaluar cr√≠ticamente la informaci√≥n en Internet."
            }
        ];

        let currentIdx = 0;
        let score = 0;
        // Mezclamos las preguntas al inicio
        scenarios.sort(() => Math.random() - 0.5);

        function loadCard() {
            if (currentIdx >= scenarios.length) {
                showFinalScore();
                return;
            }
            const item = scenarios[currentIdx];
            document.getElementById('questionText').innerText = item.text;
            document.getElementById('progress').innerText = currentIdx;
        }

        function checkAnswer(userSaysYes) {
            const item = scenarios[currentIdx];
            const isCorrect = (userSaysYes === item.isRepresentative);
            
            if (isCorrect) score++;
            document.getElementById('score').innerText = score;

            showFeedback(isCorrect, item);
        }

        function showFeedback(isCorrect, item) {
            const modal = document.getElementById('feedbackModal');
            const content = document.getElementById('feedbackContent');
            
            // Colores seg√∫n resultado
            const color = isCorrect ? 'var(--success)' : 'var(--danger)';
            const title = isCorrect ? '¬°DECISI√ìN CORRECTA!' : 'DECISI√ìN INCORRECTA';
            const icon = isCorrect ? '‚úÖ' : '‚ùå';

            content.style.borderTopColor = color;
            content.innerHTML = `
                <span class="feedback-icon">${icon}</span>
                <h2 style="color:${color}; margin:0;">${title}</h2>
                <p style="font-size:1.1rem; margin: 20px 0;">${item.explanation}</p>
                <div class="citation">Fuente del proyecto: ${item.cite}</div>
                <button class="btn-next" onclick="nextCard()">Siguiente Art√≠culo ‚û°</button>
            `;
            
            modal.style.display = 'flex';
        }

        function nextCard() {
            document.getElementById('feedbackModal').style.display = 'none';
            currentIdx++;
            loadCard();
        }

        function showFinalScore() {
            const area = document.getElementById('cardArea');
            document.querySelector('.controls').style.display = 'none'; // Ocultar botones
            
            let msg = "";
            if(score === scenarios.length) msg = "¬°Editor Jefe Supremo! Dominas la teor√≠a a la perfecci√≥n.";
            else if(score > scenarios.length/2) msg = "Buen trabajo, aunque algunos conceptos necesitan revisi√≥n.";
            else msg = "Necesitas repasar las definiciones de las funciones del lenguaje.";

            area.innerHTML = `
                <h2 style="color: var(--primary)">EDICI√ìN FINALIZADA</h2>
                <p style="font-size: 3rem; margin: 10px;">${score} / ${scenarios.length}</p>
                <p>${msg}</p>
                <button class="btn-next" onclick="location.reload()">Reiniciar Edici√≥n</button>
            `;
            document.getElementById('progress').innerText = scenarios.length;
        }

        // Iniciar
        loadCard();

    </script>
</body>
</html>