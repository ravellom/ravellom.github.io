<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Director de Escena - Guion a Storyboard</title>
    <style>
        :root {
            --bg-dark: #1a1a1a;
            --panel-grey: #2d2d2d;
            --text-light: #ecf0f1;
            --accent: #e74c3c; /* Rojo Cine */
            --highlight: #f1c40f;
            --success: #27ae60;
        }

        body {
            font-family: 'Courier New', Courier, monospace; /* Fuente tipo Guion */
            background-color: var(--bg-dark);
            color: var(--text-light);
            margin: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
        }

        header {
            background: black;
            width: 100%;
            padding: 20px;
            text-align: center;
            border-bottom: 4px solid var(--accent);
            box-shadow: 0 5px 15px rgba(0,0,0,0.5);
        }

        h1 { margin: 0; text-transform: uppercase; letter-spacing: 3px; }
        .subtitle { color: #999; font-size: 0.9rem; font-family: sans-serif; margin-top: 5px; }

        /* ESCENARIO (El Guion) */
        .script-container {
            background: white;
            color: black;
            width: 90%;
            max-width: 800px;
            padding: 30px;
            margin: 30px 0;
            border-radius: 2px;
            box-shadow: 0 0 20px rgba(255,255,255,0.1);
            position: relative;
        }
        
        /* Efecto de papel de guion */
        .script-container::before {
            content: "GUION LITERARIO - P√ÅG 1";
            position: absolute;
            top: 5px; right: 10px;
            font-size: 0.7rem; color: #aaa; font-family: sans-serif;
        }

        .scene-header { font-weight: bold; text-decoration: underline; margin-bottom: 15px; }
        .action-text { line-height: 1.6; font-size: 1.1rem; }
        .highlight { background-color: var(--highlight); padding: 2px 5px; }

        /* OPCIONES (Monitores) */
        .monitors-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            width: 90%;
            max-width: 1000px;
            margin-bottom: 40px;
        }

        .monitor-card {
            background: var(--panel-grey);
            border: 3px solid #444;
            border-radius: 10px;
            overflow: hidden;
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
        }

        .monitor-card:hover { transform: scale(1.03); border-color: var(--highlight); }
        
        .monitor-img {
            width: 100%;
            height: 150px;
            background-color: #000;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #555;
            font-size: 3rem;
        }

        .monitor-label {
            padding: 15px;
            text-align: center;
            font-family: sans-serif;
            font-weight: bold;
            font-size: 0.9rem;
        }

        /* Feedback */
        .feedback-modal {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.9);
            display: none;
            justify-content: center; align-items: center;
            z-index: 100;
        }
        .feedback-content {
            background: var(--panel-grey);
            padding: 40px;
            border-radius: 10px;
            max-width: 600px;
            text-align: center;
            border: 2px solid white;
        }
        .correct-msg { color: var(--success); font-size: 1.5rem; margin-bottom: 10px; }
        .incorrect-msg { color: var(--accent); font-size: 1.5rem; margin-bottom: 10px; }
        .explanation { font-family: sans-serif; margin: 20px 0; line-height: 1.5; }
        
        .btn-next {
            background: white; color: black; border: none; padding: 10px 30px;
            font-weight: bold; cursor: pointer; border-radius: 20px;
            font-size: 1rem;
        }
        .btn-next:hover { background: var(--highlight); }

        /* Barra de progreso */
        .progress { color: var(--highlight); margin-bottom: 10px; font-family: sans-serif; }

    </style>
</head>
<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-5NTJRD37');</script>
<!-- End Google Tag Manager -->
<body>
<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5NTJRD37"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->

    <header>
        <h1>üé¨ Director de Escena</h1>
        <p class="subtitle">Del Texto a la Imagen: Selecciona el encuadre correcto</p>
    </header>

    <div class="progress">Escena <span id="currentScene">1</span> / 5</div>

    <div class="script-container">
        <div class="scene-header" id="sceneHeader">INT. HABITACI√ìN - D√çA</div>
        <div class="action-text" id="sceneText">
            CARLOS (30) mira el reloj en la pared. Sus ojos se llenan de l√°grimas al ver que es tarde.
        </div>
    </div>

    <h3 style="font-family: sans-serif; font-weight: normal; margin-bottom: 20px;">¬øC√≥mo rodar√≠as esto para enfatizar la emoci√≥n?</h3>

    <div class="monitors-grid" id="optionsGrid">
        </div>

    <div id="feedbackModal" class="feedback-modal">
        <div class="feedback-content" id="feedbackBody">
            </div>
    </div>

    <script>
        // BASE DE DATOS DE ESCENAS (Basado en teor√≠a de Planos y √Ångulos)
        const scenes = [
            {
                header: "INT. SAL√ìN - NOCHE",
                text: "MAR√çA recibe una mala noticia por tel√©fono. Queremos ver su reacci√≥n emocional intensa y el detalle de una l√°grima cayendo.",
                goal: "Emoci√≥n / Detalle",
                options: [
                    { type: "Plano General", desc: "Vemos toda la habitaci√≥n y a Mar√≠a peque√±a en el sof√°.", correct: false },
                    { type: "Plano Medio", desc: "Vemos a Mar√≠a de la cintura para arriba.", correct: false },
                    { type: "Primer√≠simo Primer Plano", desc: "Encuadre cerrado solo en sus ojos y nariz.", correct: true },
                    { type: "Plano Americano", desc: "Vemos a Mar√≠a de las rodillas para arriba.", correct: false }
                ],
                explanation: "¬°CORTEN! ‚úÖ Correcto. El <strong>Primer√≠simo Primer Plano</strong> (Extreme Close-up) es el ideal para captar detalles dram√°ticos m√°ximos y emociones intensas, eliminando el fondo."
            },
            {
                header: "EXT. DESIERTO - D√çA",
                text: "Un explorador camina solo. Queremos mostrar su soledad y lo inmenso y peligroso que es el entorno que lo rodea.",
                goal: "Contexto / Soledad",
                options: [
                    { type: "Gran Plano General", desc: "El paisaje ocupa todo, el explorador es un punto diminuto.", correct: true },
                    { type: "Primer Plano", desc: "Vemos la cara sudorosa del explorador.", correct: false },
                    { type: "Plano Detalle", desc: "Vemos solo sus botas caminando en la arena.", correct: false },
                    { type: "Plano Contra-picado", desc: "Vemos al explorador desde abajo, pareciendo grande.", correct: false }
                ],
                explanation: "¬°EXCELENTE TOMA! ‚úÖ El <strong>Gran Plano General</strong> sirve para describir el entorno y mostrar la peque√±ez del personaje frente al mundo."
            },
            {
                header: "INT. CAFETER√çA - D√çA",
                text: "JUAN y ANA conversan sentados a una mesa. Queremos ver la interacci√≥n entre ambos con naturalidad.",
                goal: "Di√°logo / Interacci√≥n",
                options: [
                    { type: "Plano Cenital", desc: "C√°mara totalmente desde arriba (vista de p√°jaro).", correct: false },
                    { type: "Plano Medio (Two Shot)", desc: "Encuadre a la altura de la cintura que incluye a los dos.", correct: true },
                    { type: "Plano Detalle", desc: "Primer plano de la taza de caf√©.", correct: false },
                    { type: "Primer Plano", desc: "Solo la cara de Juan.", correct: false }
                ],
                explanation: "¬°BUEN TRABAJO! ‚úÖ El <strong>Plano Medio</strong> (o Two Shot cuando hay dos) es el est√°ndar para di√°logos, ya que permite ver la expresi√≥n corporal y la relaci√≥n entre personajes."
            },
            {
                header: "EXT. CALLEJ√ìN - NOCHE",
                text: "El VILLANO se acerca a la v√≠ctima. Queremos que el Villano parezca gigante, poderoso y amenazador.",
                goal: "Poder / Amenaza",
                options: [
                    { type: "√Ångulo Picado", desc: "C√°mara desde arriba mirando hacia abajo al Villano.", correct: false },
                    { type: "√Ångulo Normal", desc: "C√°mara a la altura de los ojos.", correct: false },
                    { type: "√Ångulo Contrapicado", desc: "C√°mara desde abajo mirando hacia arriba al Villano.", correct: true },
                    { type: "Plano Holand√©s", desc: "C√°mara torcida/inclinada.", correct: false }
                ],
                explanation: "¬°MAGN√çFICO! ‚úÖ El <strong>Contrapicado</strong> (mirar de abajo a arriba) engrandece al personaje y le otorga una sensaci√≥n de poder, superioridad o amenaza."
            },
            {
                header: "INT. ESCALERAS - D√çA",
                text: "El personaje corre bajando las escaleras. Queremos mostrar su fragilidad o inferioridad ante el peligro.",
                goal: "Debilidad / Inferioridad",
                options: [
                    { type: "√Ångulo Picado", desc: "C√°mara desde arriba mirando al personaje peque√±o.", correct: true },
                    { type: "√Ångulo Contrapicado", desc: "C√°mara desde abajo.", correct: false },
                    { type: "Travelling", desc: "La c√°mara se mueve al lado.", correct: false },
                    { type: "Zoom In", desc: "Acercamiento √≥ptico.", correct: false }
                ],
                explanation: "¬°CORRECTO! ‚úÖ El <strong>√Ångulo Picado</strong> (de arriba hacia abajo) empeque√±ece al sujeto, haci√©ndolo ver vulnerable, d√©bil o inocente."
            }
        ];

        let currentIndex = 0;

        function loadScene() {
            if (currentIndex >= scenes.length) {
                showFinal();
                return;
            }

            const scene = scenes[currentIndex];
            document.getElementById('sceneHeader').innerText = scene.header;
            document.getElementById('sceneText').innerText = scene.text;
            document.getElementById('currentScene').innerText = currentIndex + 1;

            const grid = document.getElementById('optionsGrid');
            grid.innerHTML = '';

            // Mezclar opciones
            const shuffledOptions = scene.options.sort(() => Math.random() - 0.5);

            shuffledOptions.forEach(opt => {
                const card = document.createElement('div');
                card.className = 'monitor-card';
                
                // Usamos Placehold.co para generar "Bocetos" visuales con texto
                // Esto evita necesitar im√°genes externas y es muy ligero
                const imgUrl = `https://placehold.co/300x150/333/FFF?text=${encodeURIComponent(opt.type)}`;
                
                card.innerHTML = `
                    <img src="${imgUrl}" alt="${opt.type}" style="width:100%; display:block;">
                    <div class="monitor-label">${opt.desc}</div>
                `;
                
                card.onclick = () => checkAnswer(opt, scene.explanation);
                grid.appendChild(card);
            });
        }

        function checkAnswer(option, explanation) {
            const modal = document.getElementById('feedbackModal');
            const body = document.getElementById('feedbackBody');
            
            modal.style.display = 'flex';

            if (option.correct) {
                body.innerHTML = `
                    <div class="correct-msg">üé¨ ¬°TOMA V√ÅLIDA!</div>
                    <div class="explanation">${explanation}</div>
                    <button class="btn-next" onclick="nextScene()">Siguiente Escena ‚û°</button>
                `;
                body.style.borderColor = 'var(--success)';
            } else {
                body.innerHTML = `
                    <div class="incorrect-msg">‚ùå ¬°CORTEN!</div>
                    <div class="explanation">Ese plano no transmite lo que pide el guion. <br>Int√©ntalo de nuevo.</div>
                    <button class="btn-next" onclick="closeModal()">Reintentar ‚Ü∫</button>
                `;
                body.style.borderColor = 'var(--accent)';
            }
        }

        function closeModal() {
            document.getElementById('feedbackModal').style.display = 'none';
        }

        function nextScene() {
            closeModal();
            currentIndex++;
            loadScene();
        }

        function showFinal() {
            document.body.innerHTML = `
                <header><h1>üé¨ RODAJE TERMINADO</h1></header>
                <div style="text-align:center; padding:50px; color:white;">
                    <h2>¬°Has completado el storyboard!</h2>
                    <p>Ahora est√°s listo para visualizar tu propia historia.</p>
                    <button class="btn-next" onclick="location.reload()">Volver a rodar</button>
                </div>
            `;
        }

        // Iniciar
        loadScene();

    </script>
</body>
</html>